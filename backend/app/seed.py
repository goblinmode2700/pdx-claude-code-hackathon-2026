"""Seed data: realistic Portland, OR scenarios."""

from .models import Ride, Vehicle, Priority, VehicleStatus, ServiceType, VehicleType

# Portland center: 45.5152, -122.6784
# PDX Airport: 45.5898, -122.5951

# --- Scenario: Downtown Mix (default) ---

DOWNTOWN_MIX_RIDES: list[Ride] = [
    # === NE CLUSTER (near V001 Sedan at NE Portland 45.553, -122.625) ===
    Ride(
        id="R001",
        pickup_lat=45.5570,
        pickup_lng=-122.6500,
        dropoff_lat=45.5350,
        dropoff_lng=-122.6300,
        time_window_start="2026-02-28T10:00:00",
        time_window_end="2026-02-28T10:30:00",
        passenger_count=2,
        priority=Priority.HIGH,
        pickup_label="Cully neighborhood",
        dropoff_label="Hollywood District",
        service_type=ServiceType.TRANSFER,
        luggage_count=1,
    ),
    Ride(
        id="R002",
        pickup_lat=45.5510,
        pickup_lng=-122.6680,
        dropoff_lat=45.5260,
        dropoff_lng=-122.6490,
        time_window_start="2026-02-28T10:15:00",
        time_window_end="2026-02-28T10:45:00",
        passenger_count=1,
        priority=Priority.MEDIUM,
        pickup_label="Alberta Arts District",
        dropoff_label="Lloyd District",
        service_type=ServiceType.POINT_TO_POINT,
    ),
    Ride(
        id="R003",
        pickup_lat=45.5430,
        pickup_lng=-122.6200,
        dropoff_lat=45.5200,
        dropoff_lng=-122.6150,
        time_window_start="2026-02-28T10:30:00",
        time_window_end="2026-02-28T11:00:00",
        passenger_count=3,
        priority=Priority.HIGH,
        pickup_label="Roseway",
        dropoff_label="Mt. Tabor",
        service_type=ServiceType.POINT_TO_POINT,
        luggage_count=1,
    ),
    Ride(
        id="R004",
        pickup_lat=45.5620,
        pickup_lng=-122.6400,
        dropoff_lat=45.5450,
        dropoff_lng=-122.6550,
        time_window_start="2026-02-28T10:45:00",
        time_window_end="2026-02-28T11:15:00",
        passenger_count=1,
        priority=Priority.LOW,
        pickup_label="Concordia",
        dropoff_label="Beaumont Village",
        service_type=ServiceType.POINT_TO_POINT,
    ),
    # === SOUTH CLUSTER (near V002 SUV at SE Portland 45.465, -122.640) ===
    Ride(
        id="R005",
        pickup_lat=45.4654,
        pickup_lng=-122.5800,
        dropoff_lat=45.5050,
        dropoff_lng=-122.6750,
        time_window_start="2026-02-28T10:00:00",
        time_window_end="2026-02-28T10:20:00",
        passenger_count=4,
        priority=Priority.URGENT,
        pickup_label="Milwaukie",
        dropoff_label="PSU Campus",
        service_type=ServiceType.TRANSFER,
        luggage_count=3,
        notes="VIP client — do not be late",
    ),
    Ride(
        id="R006",
        pickup_lat=45.4580,
        pickup_lng=-122.6320,
        dropoff_lat=45.4894,
        dropoff_lng=-122.6831,
        time_window_start="2026-02-28T10:10:00",
        time_window_end="2026-02-28T10:40:00",
        passenger_count=5,
        priority=Priority.HIGH,
        pickup_label="Sellwood",
        dropoff_label="South Waterfront",
        service_type=ServiceType.TRANSFER,
        luggage_count=4,
        notes="Group booking — 5 passengers with luggage",
    ),
    Ride(
        id="R007",
        pickup_lat=45.4720,
        pickup_lng=-122.6550,
        dropoff_lat=45.5120,
        dropoff_lng=-122.6830,
        time_window_start="2026-02-28T11:00:00",
        time_window_end="2026-02-28T11:30:00",
        passenger_count=1,
        priority=Priority.LOW,
        pickup_label="Brooklyn neighborhood",
        dropoff_label="Downtown Portland",
        service_type=ServiceType.POINT_TO_POINT,
    ),
    # === WEST CLUSTER (near V003 Van at Beaverton 45.487, -122.805) ===
    Ride(
        id="R008",
        pickup_lat=45.4832,
        pickup_lng=-122.7640,
        dropoff_lat=45.5155,
        dropoff_lng=-122.6845,
        time_window_start="2026-02-28T10:20:00",
        time_window_end="2026-02-28T10:50:00",
        passenger_count=2,
        priority=Priority.MEDIUM,
        pickup_label="Tigard",
        dropoff_label="Pioneer Square",
        service_type=ServiceType.TRANSFER,
        luggage_count=2,
    ),
    Ride(
        id="R009",
        pickup_lat=45.5050,
        pickup_lng=-122.7600,
        dropoff_lat=45.5230,
        dropoff_lng=-122.6765,
        time_window_start="2026-02-28T10:30:00",
        time_window_end="2026-02-28T11:00:00",
        passenger_count=2,
        priority=Priority.MEDIUM,
        pickup_label="Garden Home",
        dropoff_label="Pearl District",
        service_type=ServiceType.TRANSFER,
    ),
    # Reservation logic test: 7 pax REQUIRES Van Charlie (cap 8).
    # Van is near Beaverton, but naive round-robin may not assign this correctly.
    Ride(
        id="R010",
        pickup_lat=45.4870,
        pickup_lng=-122.8030,
        dropoff_lat=45.5200,
        dropoff_lng=-122.6800,
        time_window_start="2026-02-28T10:30:00",
        time_window_end="2026-02-28T11:00:00",
        passenger_count=7,
        priority=Priority.HIGH,
        pickup_label="Beaverton",
        dropoff_label="Downtown Portland",
        service_type=ServiceType.TRANSFER,
        luggage_count=6,
        notes="Corporate retreat group — 7 passengers, needs large vehicle",
    ),
    # === CROSS-CITY RIDES (geographic traps for naive) ===
    Ride(
        id="R011",
        pickup_lat=45.5350,
        pickup_lng=-122.7060,
        dropoff_lat=45.4970,
        dropoff_lng=-122.5730,
        time_window_start="2026-02-28T10:30:00",
        time_window_end="2026-02-28T11:00:00",
        passenger_count=3,
        priority=Priority.MEDIUM,
        pickup_label="Forest Park area",
        dropoff_label="SE Division St",
        service_type=ServiceType.POINT_TO_POINT,
        luggage_count=2,
    ),
]

# --- Scenario: Airport Rush (4-5 AM PDX departures) ---

AIRPORT_RUSH_RIDES: list[Ride] = [
    Ride(
        id="A001",
        pickup_lat=45.5231,
        pickup_lng=-122.6765,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:00:00",
        time_window_end="2026-02-28T04:20:00",
        passenger_count=1,
        priority=Priority.HIGH,
        pickup_label="Pearl District",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=2,
        notes="Alaska Airlines 6:15 AM departure",
    ),
    Ride(
        id="A002",
        pickup_lat=45.5050,
        pickup_lng=-122.6750,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:10:00",
        time_window_end="2026-02-28T04:30:00",
        passenger_count=2,
        priority=Priority.HIGH,
        pickup_label="PSU Campus",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=4,
        notes="Delta 6:30 AM — 2 pax with heavy luggage",
    ),
    Ride(
        id="A003",
        pickup_lat=45.4894,
        pickup_lng=-122.6831,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:15:00",
        time_window_end="2026-02-28T04:35:00",
        passenger_count=3,
        priority=Priority.URGENT,
        pickup_label="South Waterfront",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=5,
        notes="United 6:00 AM — tight connection, cannot be late",
    ),
    Ride(
        id="A004",
        pickup_lat=45.5285,
        pickup_lng=-122.6823,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:20:00",
        time_window_end="2026-02-28T04:45:00",
        passenger_count=1,
        priority=Priority.MEDIUM,
        pickup_label="NW 23rd Ave",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=1,
    ),
    Ride(
        id="A005",
        pickup_lat=45.4580,
        pickup_lng=-122.6320,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:30:00",
        time_window_end="2026-02-28T04:50:00",
        passenger_count=4,
        priority=Priority.HIGH,
        pickup_label="Sellwood",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=6,
        notes="Family of 4 with oversized bags",
    ),
    Ride(
        id="A006",
        pickup_lat=45.5400,
        pickup_lng=-122.7000,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:40:00",
        time_window_end="2026-02-28T05:00:00",
        passenger_count=2,
        priority=Priority.MEDIUM,
        pickup_label="St. Johns",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=3,
    ),
    Ride(
        id="A007",
        pickup_lat=45.4832,
        pickup_lng=-122.7640,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:00:00",
        time_window_end="2026-02-28T04:25:00",
        passenger_count=1,
        priority=Priority.URGENT,
        pickup_label="Tigard",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=2,
        notes="Southwest 5:45 AM — earliest departure, farthest pickup",
    ),
    Ride(
        id="A008",
        pickup_lat=45.5152,
        pickup_lng=-122.6784,
        dropoff_lat=45.5898,
        dropoff_lng=-122.5951,
        time_window_start="2026-02-28T04:50:00",
        time_window_end="2026-02-28T05:10:00",
        passenger_count=6,
        priority=Priority.HIGH,
        pickup_label="Downtown Portland",
        dropoff_label="PDX Airport",
        service_type=ServiceType.AIRPORT_DEPARTURE,
        luggage_count=8,
        notes="Corporate group — 6 pax, need large vehicle",
    ),
]

DOWNTOWN_MIX_VEHICLES: list[Vehicle] = [
    Vehicle(
        id="V001",
        name="Sedan Alpha",
        current_lat=45.5530,
        current_lng=-122.6250,
        capacity=4,
        status=VehicleStatus.AVAILABLE,
        vehicle_type=VehicleType.SEDAN,
        luggage_capacity=3,
    ),
    Vehicle(
        id="V002",
        name="SUV Bravo",
        current_lat=45.4650,
        current_lng=-122.6400,
        capacity=6,
        status=VehicleStatus.AVAILABLE,
        vehicle_type=VehicleType.SUV,
        luggage_capacity=6,
    ),
    Vehicle(
        id="V003",
        name="Van Charlie",
        current_lat=45.4870,
        current_lng=-122.8050,
        capacity=8,
        status=VehicleStatus.AVAILABLE,
        vehicle_type=VehicleType.VAN,
        luggage_capacity=10,
    ),
]

AIRPORT_RUSH_VEHICLES: list[Vehicle] = [
    Vehicle(
        id="V001",
        name="Sedan Alpha",
        current_lat=45.5152,
        current_lng=-122.6784,
        capacity=4,
        status=VehicleStatus.AVAILABLE,
        vehicle_type=VehicleType.SEDAN,
        luggage_capacity=3,
    ),
    Vehicle(
        id="V002",
        name="SUV Bravo",
        current_lat=45.4900,
        current_lng=-122.6400,
        capacity=6,
        status=VehicleStatus.AVAILABLE,
        vehicle_type=VehicleType.SUV,
        luggage_capacity=6,
    ),
    Vehicle(
        id="V003",
        name="Sprinter Delta",
        current_lat=45.5300,
        current_lng=-122.6900,
        capacity=12,
        status=VehicleStatus.AVAILABLE,
        vehicle_type=VehicleType.SPRINTER,
        luggage_capacity=15,
    ),
]

# Scenario registry
SCENARIOS: dict[str, dict] = {
    "downtown_mix": {
        "label": "Downtown Mix",
        "description": "11 rides across Portland with geographic clusters, mixed priorities",
        "rides": DOWNTOWN_MIX_RIDES,
        "vehicles": DOWNTOWN_MIX_VEHICLES,
    },
    "airport_rush": {
        "label": "Airport Rush",
        "description": "8 early-morning rides all heading to PDX Airport",
        "rides": AIRPORT_RUSH_RIDES,
        "vehicles": AIRPORT_RUSH_VEHICLES,
    },
}

# Backward compat
SEED_RIDES = DOWNTOWN_MIX_RIDES
SEED_VEHICLES = DOWNTOWN_MIX_VEHICLES
